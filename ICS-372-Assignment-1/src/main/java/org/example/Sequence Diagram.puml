@startuml

actor User
participant Main
participant Dealer

participant "SUV/Sedan/Pickup/SportsCar" as Car

User -> Main: Choose 'Add Vehicle' (Manual/JSON)

alt JSON Input
    Main -> User: Enter JSON file path
    User -> Main: Provide file path
    Main -> Main: JSONParse(filePath, dealerSet)
    loop For each vehicle in JSON
        Main -> Main: checkType(type, manufacturer, model, ...)
        Main -> Car: Create concrete vehicle object
        Main -> Dealer: Find or create Dealer
        Main -> Dealer: addVehicle(newVehicle)
        Dealer -> Main: Confirm addition
    end
end

alt Manual Input
    Main -> User: Enter Dealer ID
    User -> Main: Provide Dealer ID
    Main -> Dealer: Validate Dealer
    Dealer -> Main: Confirm Dealer exists
    alt Dealer is Disabled
        Main -> User: Show 'Dealer Disabled' message
    else
        Main -> User: Enter Vehicle details
        User -> Main: Provide details (ID, Manufacturer, Model, Price...)
        Main -> Main: checkType(type, manufacturer, model, ...)
        Main -> Car: Create concrete vehicle object
        Main -> Dealer: addVehicle(newVehicle)
        Dealer -> Main: Confirm addition
    end
end

Main -> User: Show success message

@enduml
